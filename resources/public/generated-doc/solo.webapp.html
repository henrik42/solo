<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>solo.webapp documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Solo</span> <span class="project-version">0.1.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to solo</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>solo</span></div></div></li><li class="depth-2 branch"><a href="solo.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="solo.jetty.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jetty</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jumpstart</span></div></div></li><li class="depth-3"><a href="solo.jumpstart.jsf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jsf</span></div></a></li><li class="depth-2 branch"><a href="solo.nrepl.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>nrepl</span></div></a></li><li class="depth-2 branch"><a href="solo.swank.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>swank</span></div></a></li><li class="depth-2 branch"><a href="solo.web.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></a></li><li class="depth-2 current"><a href="solo.webapp.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>webapp</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="solo.webapp.html#var--main"><div class="inner"><span>-main</span></div></a></li><li class="depth-1"><a href="solo.webapp.html#var-app"><div class="inner"><span>app</span></div></a></li><li class="depth-1"><a href="solo.webapp.html#var-cli-options"><div class="inner"><span>cli-options</span></div></a></li><li class="depth-1"><a href="solo.webapp.html#var-destroy"><div class="inner"><span>destroy</span></div></a></li><li class="depth-1"><a href="solo.webapp.html#var-init"><div class="inner"><span>init</span></div></a></li><li class="depth-1"><a href="solo.webapp.html#var-nrepl-server"><div class="inner"><span>nrepl-server</span></div></a></li><li class="depth-1"><a href="solo.webapp.html#var-parse-host.3Aport"><div class="inner"><span>parse-host:port</span></div></a></li><li class="depth-1"><a href="solo.webapp.html#var-remote-wrapper"><div class="inner"><span>remote-wrapper</span></div></a></li><li class="depth-1"><a href="solo.webapp.html#var-usage"><div class="inner"><span>usage</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">solo.webapp</h1><div class="doc"><div class="markdown"><p>A web application.</p>
<p>The application may be deployed into a Servlet-container as a WAR or it may be run as a stand-alone Java application.</p>
<p>When run in a container life-cycle functions <code>init</code>/<code>destroy</code> will be called for start-up/shut-down. In this case <code>solo.core</code> is used to access the log4j API locally. Usually log4j JAR will be part of the JEE <em>host-application</em> (EAR-<code>/lib</code>).</p>
<p>When run as a stand-alone app <code>-main</code> is the main entry point. In this case the calls to <code>solo.core</code> are delegated to a remotely running nREPL-server which then calls <code>solo.core</code> for accessing the log4j API (but see <code>--local-core</code> in <code>main</code>).</p></div></div><div class="public anchor" id="var--main"><h3>-main</h3><div class="usage"><code>(-main &amp; args)</code></div><div class="doc"><div class="markdown"><p>Starts a Jetty server (and optionally nREPL &amp; Swank) with <code>solo.web/app</code>.</p></div></div></div><div class="public anchor" id="var-app"><h3>app</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>An alias for <code>solo.web/app</code>.</p></div></div></div><div class="public anchor" id="var-cli-options"><h3>cli-options</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>CLI options.</p></div></div></div><div class="public anchor" id="var-destroy"><h3>destroy</h3><div class="usage"><code>(destroy)</code></div><div class="doc"><div class="markdown"><p>Set <code>nrepl-server</code> atom to <code>nil</code> and then try to <code>.close</code> the running server. If this fails, <code>nrepl-server</code> atom will still be <code>nil</code> so that an <code>init</code> will try to start a new nREPL server. Hope this makes sense in most cases.</p></div></div></div><div class="public anchor" id="var-init"><h3>init</h3><div class="usage"><code>(init)</code></div><div class="doc"><div class="markdown"><p>Initialize Servlet. Synchronously starts nREPL server and sets <code>nrepl-server</code> atom. This method should not throw an exception if the nREPL server cannot start. This may happen, when the port is already opened. So we will just keep on going in this case.</p></div></div></div><div class="public anchor" id="var-nrepl-server"><h3>nrepl-server</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Atom that holds an nREPL-server (see <code>init</code>).</p></div></div></div><div class="public anchor" id="var-parse-host.3Aport"><h3>parse-host:port</h3><div class="usage"><code>(parse-host:port host:port)</code></div><div class="doc"><div class="markdown"><p>Parses string argument <code>[&lt;host&gt;:]&lt;port&gt;</code>. Returns map with <code>:host</code> and <code>:port</code> for non-nil key-values (plays well with <code>{:keys [port
host] :or [host &lt;host-default&gt; port &lt;port-default&gt;]}</code> destructuring).</p></div></div></div><div class="public anchor" id="var-remote-wrapper"><h3>remote-wrapper</h3><div class="usage"><code>(remote-wrapper conn-fn fn-var)</code></div><div class="doc"><div class="markdown"><p>Returns a function that delegates calls to an nREPL-server.</p>
<p>On invocation of the returned function <code>conn-fn</code> is (repeatedly) used as a factory for an nREPL connection. <code>solo.nrepl/remote-eval</code> is then used to evaluate the invocation of <code>(apply @fn-var args)</code> on the remote server. Returns the result or throws exception.</p></div></div></div><div class="public anchor" id="var-usage"><h3>usage</h3><div class="usage"><code>(usage msg summary)</code></div><div class="doc"><div class="markdown"><p>Prints usage info and <code>(System/exit 1)</code> exits the JVM.</p></div></div></div></div></body></html>